<!DOCTYPE HTML>
<html ng-app lang="en">
<head>
<meta charset=utf-8>
    <title>SHL - Solita Hockey League</title>
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,200,200italic,300,300italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="all.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
    <script src="controllers.js"></script>
    <script type="text/javascript" src="all.js"></script>
</head>
<body ng-controller="TeamListCtrl">
    <div class="container">
        <header>
          <div ng-hide="IsLogin()">
            <form ng-submit="login()" method="post">
              <label>Käyttäjätunnus:<input type="text" ng-model="username" name="username">
              <input type="submit" id="login" value="Kirjaudu">
            </form>
          </div>
          <div ng-show="IsLogin()">
            <span>Olet kirjautunut: {{username}}</span><a href="#" ng-click="LogOut()">Kirjaudu ulos</a>
          </div>
            <h1>SHL - Solita Hockey League</h1>
            <nav>
                <ul>
                    <a ng-click="sarjataulukko(0)" href="#"><li class="north">Pohjoinen konferenssi</li></a>
                    <a ng-click="sarjataulukko(1)" href="#"><li class="south">Eteläinen konferenssi</li></a>
                </ul>
            </nav>
        </header>
        <div ng-show="showWrapper" class="contentWrapper">
        	<ul>
        		<a ng-click="sarjataulukko(id)" href="#"><li class="tab">Sarjataulukko</li></a>
        		<a ng-click="sarjaohjelma(id)" href="#"><li class="tab">Sarjaohjelma</li></a>
            <a ng-show="IsLogin()" ng-click="sarjaohjelma(2)" href="#"><li class="tab">Oma sarjaohjelma</li></a>
        	</ul>
        	<div class="content">
        		<div class="taulukko" ng-show="showStandings">
                    <h2>{{conference}}</h2>
                    <table>
                    <tr>
                        <th>Joukkue</th>
                        <th>Ottelut</th>
                        <th>Tehdyt maalit</th>
                        <th>Päästetyt maalit</th>
                        <th>Pisteet</th>
                    </tr>
                        <tr ng-repeat="team in teams">
                          <td>{{team.name}}</td>
                          <td>{{team.games}}
                          <td>{{team.goals}}</td>
                          <td>{{team.againtsGoals}}</td>
                          <td>{{team.points}}</td>
                        </tr>
                    </table>
        		</div>
        		<div ng-show="showSchedule" class="taulukko">
        			<h2>{{scheduleHeader}}</h2>
                    <table>
                    <tr>
                        <th>Pelinnumero</th>
                        <th>Päivämäärä</th>
                        <th>Kotijoukkue</th>
                        <th></th>
                        <th>Vierasjoukkue</th>
                        <th>Kotijoukkuemaalit</th>
                        <th></th>
                        <th>Vierasjoukkuemaalit</th>
                    </tr>
                    <tr ng-repeat="(rowIndex, row) in schedule">
                          <td>{{row.id}}</td>
                          <td>{{row.date}}
                          <td>{{row.hometeam}}</td>
                          <td>-</td>
                          <td>{{row.awayteam}}</td>
                          <td ng-show="Read(rowIndex)">{{row.homegoal}}</td>
                          <td ng-hide="Read(rowIndex)"><input type="number" name="input" min="0" ng-model="row.homegoal" /></td>
                          <td>-</td>
                          <td ng-show="Read(rowIndex)">{{row.awaygoal}}</td>
                          <td ng-hide="Read(rowIndex)"><input type="number" name="input" min="0" ng-model="row.awaygoal" /></td>
                          <td><a ng-show="Read(rowIndex)" ng-click="changeToInput(rowIndex)"  href="#">Muokkaa</a>
                          <td><a ng-hide="Read(rowIndex)" ng-click="Save(rowIndex, row.homegoal, row.awaygoal)"  href="#">Tallenna</a>
                    </tr>
                    </table>
        		</div>	
        	<div>
        </div>
        <footer>
        <p>Solita - 2013</p>
        </footer>
    </div>
</body>
</html>