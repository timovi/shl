<!DOCTYPE HTML>
<html ng-app="shl" lang="en">
<head>
<meta charset=utf-8>
    <title>SHL - Solita Hockey League</title>
    <link href='http://fonts.googleapis.com/css?family=Titillium+Web:400,200,200italic,300,300italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="./css/all.css" />
    <script src="./js/angular-1.2.6/angular.min.js"></script>
    <script src="./js/angular-1.2.6/angular-resource.min.js"></script>
    <script type="text/javascript" src="./js/app.js"></script>
    <script type="text/javascript" src="./js/services.js"></script>
    <script type="text/javascript" src="./js/controllers.js"></script>
</head>
<body ng-controller="shlCtrl">
    
<header>
  <div class="login">
    <div ng-hide="IsLogin()">
      <form ng-submit="login()" method="post">
        <label>Käyttäjätunnus:</label>
        <input type="text" ng-model="username" name="username">
        <input class="login-submit" type="submit" id="login" value="Kirjaudu" />
      </form>
    </div>
  <!--  <div ng-show="IsLogin()">
      <span>Olet kirjautunut: {{username}}</span><a href="#" ng-click="LogOut()">Kirjaudu ulos</a>
    </div> -->
  </div>
  <img src="images/shl-logo.png" alt="SHL" class="shl-logo" />
  <h1>{{tournament.name}}</h1>
    <nav>
        <ul>
            <a ng-repeat="conf in conferences" ng-click="sarjataulukko(conf.id, conf.name)" href="#">
              <li class="conference">{{conf.name}}</li></a>
        </ul>
    </nav>
</header>

<div class="container">
  <div ng-show="showWrapper" class="contentWrapper">
      <div class="tabs">
        <ul>
      		<a ng-click="sarjataulukko(conferenceid,conferenceName)" href="#"><li class="tab">Sarjataulukko</li></a>
      		<a ng-click="sarjaohjelma(conferenceid)" href="#"><li class="tab">Sarjaohjelma</li></a>
          <!--<a ng-show="IsLogin()" ng-click="sarjaohjelma()" href="#"><li class="tab">Oma sarjaohjelma</li></a>-->
          <a ng-show="user.roleid === 1" target="_blank" href="/test.html"><li class="tab">Hallinta</li></a>
    	</ul>
    </div>
  	<div class="content">
  		<div class="taulukko" ng-show="showStandings">
        <h2>{{conferenceName}} -sarjataulukko</h2>
        <table>
          <tr>
              <th>Joukkue</th>
              <th>Ottelut</th>
              <th>Tehdyt maalit</th>
              <th>Päästetyt maalit</th>
              <th>Pisteet</th>
          </tr>
              <tr ng-repeat="team in teams">
                <td>{{team.name}}</td>
                <td>{{team.games}}
                <td>{{team.goals}}</td>
                <td>{{team.againtsGoals}}</td>
                <td>{{team.points}}</td>
          </tr>
        </table>
  		</div>
  		<div ng-show="showSchedule" class="taulukko">
  			<h2>{{conferenceName}} -sarjaohjelma</h2>
        <table>
          <tr>
              <th>Päivämäärä</th>
              <th>Kotijoukkue</th>
              <th></th>
              <th>Vierasjoukkue</th>
              <th>Kotijoukkuemaalit</th>
              <th></th>
              <th>Vierasjoukkuemaalit</th>
              <th>Jatkoaika</th>
              <th>RL-kisa</th>
          </tr>
          <tr ng-repeat="(rowIndex, row) in schedule">
                <td ng-show="Read(rowIndex)">{{row.playdate | date:'dd.MM.yyyy'}}</td>
                <td ng-hide="Read(rowIndex)"><input ng-model="playdate" type="text" /></td>
                <td>{{row.homefirstname}} "{{row.hometeam}}" {{row.homelastname}}</td>
                <td>-</td>
                <td>{{row.awayfirstname}} "{{row.awayteam}}" {{row.awaylastname}}</td>
                <td ng-show="Read(rowIndex)">{{row.homegoals}}</td>
                <td ng-hide="Read(rowIndex)"><input type="number" name="input" min="0" ng-model="row.homegoals" /></td>
                <td>-</td>
                <td ng-show="Read(rowIndex)">{{row.awaygoals}}</td>
                <td ng-hide="Read(rowIndex)"><input type="number" name="input" min="0" ng-model="row.awaygoals" /></td>
                <td ng-show="Read(rowIndex)">{{row.overtime}}</td>
                <td ng-hide="Read(rowIndex)"><input type="checkbox" name="input" ng-model="row.overtime" /></td>
                <td ng-show="Read(rowIndex)">{{row.shootout}}</td>
                <td ng-hide="Read(rowIndex)"><input type="checkbox" name="input" ng-model="row.shootout" /></td>
                <td><a ng-show="Read(rowIndex)" ng-click="changeToInput(rowIndex, row)"  href="#">Muokkaa</a></td>
                <td><a ng-hide="Read(rowIndex)" ng-click="Update(row, playdate)" href="#" >Tallenna</a></td>
              </form>
          </tr>
        </table>
  		</div>	
  	</div>
  </div>

  <footer>
    Solita - 2014
  </footer> 
</body>
</html>